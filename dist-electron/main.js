"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("electron"),d=require("node:module"),p=require("node:url"),n=require("node:path");var o=typeof document<"u"?document.currentScript:null;d.createRequire(typeof document>"u"?require("url").pathToFileURL(__filename).href:o&&o.tagName.toUpperCase()==="SCRIPT"&&o.src||new URL("main.js",document.baseURI).href);const l=n.dirname(p.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:o&&o.tagName.toUpperCase()==="SCRIPT"&&o.src||new URL("main.js",document.baseURI).href));process.env.APP_ROOT=n.join(l,"..");const s=process.env.VITE_DEV_SERVER_URL,u=n.join(process.env.APP_ROOT,"dist-electron"),i=n.join(process.env.APP_ROOT,"dist");process.env.VITE_PUBLIC=s?n.join(process.env.APP_ROOT,"public"):i;let e=null;function c(){e=new t.BrowserWindow({width:1e3,height:700,minWidth:800,minHeight:600,show:!1,icon:n.join(process.env.VITE_PUBLIC,"icon.png"),backgroundColor:"#161616",webPreferences:{nodeIntegration:!1,contextIsolation:!0,enableRemoteModule:!1,devTools:process.env.NODE_ENV!=="production",sandbox:!1,spellcheck:!1,backgroundThrottling:!0,webSecurity:!0,preload:n.join(l,"preload.js")}}),e.setMenuBarVisibility(!1),e.removeMenu&&e.removeMenu(),e.once("ready-to-show",()=>{e.show()}),e.webContents.on("before-input-event",(a,r)=>{r.type==="keyDown"&&r.key==="F12"&&(e.webContents.openDevTools({mode:"right"}),a.preventDefault()),r.type==="keyDown"&&r.key==="F5"&&(e.reload(),a.preventDefault())}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),s?e.loadURL(s):e.loadFile(n.join(i,"index.html"))}t.app.on("window-all-closed",()=>{process.platform!=="darwin"&&(t.app.quit(),e=null)});t.app.on("activate",()=>{t.BrowserWindow.getAllWindows().length===0&&c()});t.app.whenReady().then(c);exports.MAIN_DIST=u;exports.RENDERER_DIST=i;exports.VITE_DEV_SERVER_URL=s;
